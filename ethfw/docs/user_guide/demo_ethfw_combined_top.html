<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>Ethernet Firmware: Ethernet Firmware differentiating features demos</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ethernet Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('demo_ethfw_combined_top.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Ethernet Firmware differentiating features demos </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#demo_ethfw_combined_intro">Introduction</a><ul><li class="level2"><a href="#demo_ethfw_combined_depend">Dependencies</a></li>
</ul>
</li>
<li class="level1"><a href="#demo_ethfw_combined_cfg">Compile Time Configurations</a><ul><li class="level2"><a href="#demo_ethfw_demos_cfg">Ethernet Firmware Demos Configuration</a></li>
</ul>
</li>
<li class="level1"><a href="#demo_ethfw_combined_setup_cfg">Demo Setup</a><ul><li class="level2"><a href="#demo_ethfw_combined_prerequisites">Prerequisites</a><ul><li class="level3"><a href="#demo_ethfw_combined_prereq_packEth">packETH tool</a></li>
<li class="level3"><a href="#demo_ethfw_combined_prereq_python">Python3 and Pip3</a></li>
<li class="level3"><a href="#demo_ethfw_combined_prereq_wireshark">Wireshark</a></li>
<li class="level3"><a href="#demo_ethfw_combined_prereq_iperf">iperf</a></li>
<li class="level3"><a href="#demo_ethfw_combined_prereq_bmon">bmon</a></li>
<li class="level3"><a href="#demo_ethfw_dhcp_server">DHCP Server</a></li>
<li class="level3"><a href="#demo_ethfw_static_ip">Static IP (Optional)</a></li>
<li class="level3"><a href="#demo_ethfw_ptp_stack">gPTP stack</a></li>
</ul>
</li>
<li class="level2"><a href="#demo_ethfw_combined_CCS">CCS Boot</a><ul><li class="level3"><a href="#demo_l2_switchin_CCS_prereqs">Prerequisites</a></li>
<li class="level3"><a href="#demo_ethfw_combined_CCS_steps">Steps</a></li>
</ul>
</li>
<li class="level2"><a href="#demo_ethfw_combined_sdcard">SD Card Boot</a><ul><li class="level3"><a href="#demo_ethfw_combined_sdcard_steps">Steps</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#demo_ethfw_combined_execution">Running the Demo</a><ul><li class="level2"><a href="#ethfw_demo_connections">Connecting External Devices</a></li>
<li class="level2"><a href="#ethfw_virt_net_driver">Virtual Net Driver on A72</a></li>
<li class="level2"><a href="#ethfw_running_iperf">iperf</a></li>
<li class="level2"><a href="#ethfw_running_iperf_ethfw">iperf with ETHFW server</a></li>
<li class="level2"><a href="#ethfw_running_iperf_virtmac">iperf with virtual client</a></li>
<li class="level2"><a href="#ethfw_demo_gptp">gPTP Stack</a></li>
<li class="level2"><a href="#ethfw_gui_tool_configuration">GUI Configurator Tool</a></li>
<li class="level2"><a href="#ethfw_intervlan_routing">InterVLAN Routing</a><ul><li class="level3"><a href="#ethfw_sw_intervlan_routing">Software InterVLAN Routing</a></li>
<li class="level3"><a href="#ethfw_hw_intervlan_routing">Hardware InterVLAN Routing</a></li>
</ul>
</li>
<li class="level2"><a href="#ethfw_ip_nxthdr_filtering">IP Next Header Filtering</a></li>
<li class="level2"><a href="#ethfw_rate_limiting">Rate Limiting</a></li>
<li class="level2"><a href="#ethfw_intercore_communication">Inter-core Virtual Ethernet communication</a><ul><li class="level3"><a href="#intercore_rtos_client_test">RTOS client test</a></li>
<li class="level3"><a href="#intercore_linux_client_test">Linux client test</a><ul><li class="level4"><a href="#intercore_linux_tap_app">TAP User-space Application</a></li>
<li class="level4"><a href="#intercore_running_linux_client_test">Running the test</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#demo_ethfw_combined_output">Sample output</a><ul><li class="level3"><a href="#demo_ethfw_combined_output_j721e">J721E</a><ul><li class="level4"><a href="#demo_ethfw_combined_logs_uart_j721e">UART Console Logs (MCU2_0 Server Application)</a></li>
<li class="level4"><a href="#demo_ethfw_combined_logs_sysmin_j721e">CCS Console Logs (MCU2_1 Client Application)</a></li>
</ul>
</li>
<li class="level3"><a href="#demo_ethfw_combined_output_j7200">J7200</a><ul><li class="level4"><a href="#demo_ethfw_combined_logs_uart_j7200">UART Console Logs (MCU2_0 Server Application)</a></li>
<li class="level4"><a href="#demo_ethfw_combined_logs_sysmin_j7200">CCS Console Logs (MCU2_1 Client Application)</a></li>
</ul>
</li>
<li class="level3"><a href="#demo_ethfw_combined_output_j784s4">J784S4</a><ul><li class="level4"><a href="#demo_ethfw_combined_logs_uart_j784s4">UART Console Logs (MCU2_0 Server Application)</a></li>
<li class="level4"><a href="#demo_ethfw_combined_logs_sysmin_j784s4">CCS Console Logs (MCU2_1 Client Application)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#demo_ethfw_combined_rev_history">Document Revision History</a></li>
</ul>
</div>
<div class="textblock"><hr/>
 <h1><a class="anchor" id="demo_ethfw_combined_intro"></a>
Introduction</h1>
<hr/>
<p>The applications that are part of this demo show Jacinto 7 integrated switch differentiating features like interVLAN routing in hardware, firewall, packet header based classification and rate limiting along with Layer-2 switching with VLAN, multicast and software-based interVLAN routing among the ports. The traffic forwarding process among the ports don't require CPU involvement or DMA bandwidth as everything is completely handled by CPSW hardware.</p>
<p>The intention behind this demo which encompasses multiple sub-demos is to show the switching capabilities of the J721E/J7200 integrated Ethernet Switch (CPSW9G or CPSW5G) as well as the software developed which includes Enet low-level driver (Enet LLD), lwIP TCP/IP integration and Ethernet Switch Firmware (EthFw) application.</p>
<p>Below are top-level features demonstrated:</p>
<ul>
<li>Basic L2 switching</li>
<li>Switching with VLAN</li>
<li>Multicast switching</li>
<li>Send/receive packets over TCP/UDP</li>
<li>Support for remote cores (Linux and FreeRTOS)</li>
<li>Software-based interVLAN routing</li>
<li>Hardware-based interVLAN routing</li>
<li>IP next header filtering</li>
<li>MAC address based rate limiting</li>
<li>Time-synchronization using gPTP</li>
<li>Multi-core time-synchronization with RTOS client</li>
<li>Software based inter-core virtual Ethernet communication</li>
</ul>
<p>The Ethernet Firmware demo application is in charge of:</p>
<ul>
<li>Opening the CPSW modules like ALE, MAC ports, host port and UDMA</li>
<li>Opening and configuring the MAC ports along with corresponding PHYs present in the GESI expansion board at RGMII/RMII 1Gbps mode in J721E EVM, or the QpENet expansion board in J7200 EVM.</li>
<li>Initializing lwIP stack</li>
</ul>
<p>This application runs with the GESI (Gateway/Ethernet Switch/Industrial Expansion Board) board on J721E EVM and with the QPENet (Quad Port Eth Expansion Board) board on J7200 EVM. The demo requires two PCs running Ubuntu connected to the GESI or QPEnet board in order to demonstrate the L2 switching capabilities as well as to generate and monitor Ethernet traffic at different stages of the demo. The connection diagrams for the respective EVMs are shown below.</p>
<h3>Connection diagram for J721E EVM with GESI Daughter Card</h3>
<div class="image">
<img src="demo_l2_switching_connections_j721e.png" alt="demo_l2_switching_connections_j721e.png"/>
<div class="caption">
EthFw demo connections diagram - J721E EVM</div></div>
 <h3>Connection diagram for J7200 EVM with QpENet Daughter Card</h3>
<div class="image">
<img src="demo_l2_switching_connections_j7200.png" alt="demo_l2_switching_connections_j7200.png"/>
<div class="caption">
EthFw demo connections diagram - J7200 EVM</div></div>
 <h3>Connection diagram for J784S4 EVM with QpENet Daughter Card</h3>
<div class="image">
<img src="demo_l2_switching_connections_j784s4.png" alt="demo_l2_switching_connections_j784s4.png"/>
<div class="caption">
EthFw demo connections diagram - J784S4 EVM</div></div>
 <blockquote class="doxtable">
<p><b>Note:</b> The IP addresses shown in above diagram are only for example and can change based on your network configuration. </p>
</blockquote>
<p>A GUI-based control interface to enable/disable/configure features like VLAN, multicast, rate limiting, interVLAN routing and also to show the load of the CPU is added in the release.</p>
<p>A Remote Client application for the Main R5F core 1 is also available as part of this demo. This application runs a local lwIP stack on a virtual network device which demonstrates the RTOS switch remote core integration.</p>
<hr/>
 <h2><a class="anchor" id="demo_ethfw_combined_depend"></a>
Dependencies</h2>
<p>This application depends on multiple components and are detailed in sections below:</p><ol type="1">
<li>FreeRTOS: Uses <b>Task</b>, <b>Semaphore</b>, <b>Interrupt Handling HWI</b>.</li>
<li>PDK<ul>
<li>Board library: Required for the configuration of pin muxing, clocking, etc.</li>
<li>OSAL library: Provides the abstraction layer implementation for TI RTOS</li>
<li>UART driver: Required to print output messages to serial port</li>
<li>GPIO driver: Required to drive PHY reset lines and I/O mux switch</li>
<li>UDMA driver: Required for global level initialization of the UDMA driver</li>
<li>Enet driver: Provides an interface for the application to configure the control path of the CPSW switch, as well as the interface to send and receive Ethernet frames to/from CPSW's host port</li>
</ul>
</li>
</ol>
<p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<hr/>
 <h1><a class="anchor" id="demo_ethfw_combined_cfg"></a>
Compile Time Configurations</h1>
<hr/>
<h2><a class="anchor" id="demo_ethfw_demos_cfg"></a>
Ethernet Firmware Demos Configuration</h2>
<p>Starting in SDK 9.0 release, the default Ethernet Firmware standalone RTOS application no longer enables the following demos: GUI configurator tool, hardware and software interVLAN, IP next hader filtering and rate limiting.</p>
<p>User must recompile ETHFW in order to enable these demos: </p><pre class="fragment">make ethfw_all BUILD_SOC_LIST=&lt;SOC&gt; ETHFW_DEMO_SUPPORT=yes
</pre><p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<hr/>
 <h1><a class="anchor" id="demo_ethfw_combined_setup_cfg"></a>
Demo Setup</h1>
<hr/>
<h2><a class="anchor" id="demo_ethfw_combined_prerequisites"></a>
Prerequisites</h2>
<h3><a class="anchor" id="demo_ethfw_combined_prereq_packEth"></a>
packETH tool</h3>
<blockquote class="doxtable">
<p><b>Note:</b> packETH tool is required only in <b>PC 1</b>. </p>
</blockquote>
<p>Install packETH packet generator tool on the Linux PC. The Ubuntu installation instructions can be found in their <a href="http://packeth.sourceforge.net/packeth/Installation.html">website</a>.</p>
<p>The packEth configurations used in this demo are included in the Ethernet Firmware package at <code>&lt;ETHFW_PATH&gt;/docs/packeth_configurations/</code></p>
<blockquote class="doxtable">
<p><b>Note:</b> Please check licensing information and terms of usage of packETH tool and make sure it adheres to your organization's policy before using and configuring it. </p>
</blockquote>
<h3><a class="anchor" id="demo_ethfw_combined_prereq_python"></a>
Python3 and Pip3</h3>
<p>The CPSW Remote Configuration GUI tool is developed using Python3 and PyQt. Pip3 can be used to install additional Python modules required by the GUI tool.</p>
<blockquote class="doxtable">
<p><b>Note:</b> The GUI tool can be executed from either <b>PC 1</b> or <b>PC 2</b>, so Python and its dependencies must be installed only on the selected PC. </p>
</blockquote>
<p>Install Python3, PyQt, pip3 and other dependencies: </p><pre class="fragment">sudo apt install python3-pip
pip3 install --user pyqt5
sudo apt-get install python3-pyqt5
sudo apt-get install pyqt5-dev-tools
sudo apt-get install qttools5-dev-tools
pip3 install jsonschema pyserial serial xmodem
</pre><h3><a class="anchor" id="demo_ethfw_combined_prereq_wireshark"></a>
Wireshark</h3>
<blockquote class="doxtable">
<p><b>Note:</b> Wireshark packet analyzer tool is required in both <b>PC 1</b> and <b>PC 2</b>. </p>
</blockquote>
<p>Refer to the Wireshark installation instructions on Ubuntu in this <a href="https://linuxhint.com/install_wireshark_ubuntu/">website</a>.</p>
<h3><a class="anchor" id="demo_ethfw_combined_prereq_iperf"></a>
iperf</h3>
<blockquote class="doxtable">
<p><b>Note:</b> iperf network performance measurement tool is required on either <b>PC 1</b> or <b>PC 2</b>. </p>
</blockquote>
<p>Install iperf in the selected Ubuntu PC(s): </p><pre class="fragment">sudo apt-get install iperf
</pre><h3><a class="anchor" id="demo_ethfw_combined_prereq_bmon"></a>
bmon</h3>
<blockquote class="doxtable">
<p><b>Note:</b> bmon is required only on <b>PC 2</b>. </p>
</blockquote>
<p>bmon is a network bandwidth monitoring tool that will be used in this demo to monitor the traffic received on <b>PC 2</b> during the interVLAN tests.</p>
<p>Install bmon in the Ubuntu PC as follows: </p><pre class="fragment">sudo apt-get install bmon
</pre><p>After installing bmon, enable promiscuous mode on the network interface using, </p><pre class="fragment">sudo ifconfig eth0 promisc
</pre><p>This is required to capture VLAN tagged packets in the PC. Since fixed VLAN tags, IP &amp; MAC addresses are used in the demo, PC's network interface will drop these packets as they are not addressed to it. To avoid this, promiscuous mode should be enabled on the network interface.</p>
<h3><a class="anchor" id="demo_ethfw_dhcp_server"></a>
DHCP Server</h3>
<blockquote class="doxtable">
<p><b>Note:</b> DHCP server is required only in <b>PC 1</b>. </p>
</blockquote>
<p>A DHCP server is required to assign IPs dynamically to all internal cores (A72, Main R5F core0, Main R5F core1) or external devices (PC 1, PC 2) in this demo.</p>
<ol type="1">
<li>Refer to the DHCP installation and setup instructions on the Ubuntu <a href="https://help.ubuntu.com/lts/serverguide/dhcp.html">website</a> for further details.</li>
<li>A possible configuration could be: <pre class="fragment">subnet 192.168.1.0 netmask 255.255.255.0 {
    range 192.168.1.200 192.168.1.210;
    ...
}
</pre></li>
<li>Set the <b>PC 1</b> IP to <code>192.168.1.&lt;pc1&gt;</code> and the restart the DHCP server.</li>
</ol>
<h3><a class="anchor" id="demo_ethfw_static_ip"></a>
Static IP (Optional)</h3>
<p>If dynamic IP configuration is not possible, static IPs can be setup as follows:</p>
<ol type="1">
<li><p class="startli">For Ethernet Firmware server, set below flag in <code>ethfw/apps/app_remoteswitchcfg_server/mcu_2_0/main.c</code> to disable DHCP and use static IP instead: </p><pre class="fragment">#define ETHAPP_LWIP_USE_DHCP            (0)
</pre><p class="startli">The static IP address, gateway and netmask can be set also in the same file. </p><pre class="fragment">#define ETHFW_CLIENT_IPADDR(addr)       IP4_ADDR((addr), 192,168,1,201)
#define ETHFW_CLIENT_GW(addr)           IP4_ADDR((addr), 192,168,1,1)
#define ETHFW_CLIENT_NETMASK(addr)      IP4_ADDR((addr), 255,255,255,0)
</pre></li>
<li><p class="startli">For RTOS client application, set below flag in <code>ethfw/apps/app_remoteswitchcfg_client/mcu_2_1/main.c</code>: </p><pre class="fragment">#define ETHAPP_LWIP_USE_DHCP            (0)
</pre><p class="startli">The static IP address, gateway and netmask can be set also in the same file.</p>
</li>
<li>For Linux, <pre class="fragment">sudo ifconfig &lt;ethDeviceName&gt; 192.168.1.x netmask 255.255.255.0 up
</pre></li>
<li>For Windows, refer to the following <a href="https://www.howtogeek.com/howto/19249/how-to-assign-a-static-ip-address-in-xp-vista-or-windows-7/">website</a> for suggested instructions about static IP configuration under a Windows environment.</li>
</ol>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Device  </th><th class="markdownTableHeadNone">IP address   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PC 1  </td><td class="markdownTableBodyNone">192.168.1.202   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">J721E/J7200/J784S4 Main R5F core (running EthFw)  </td><td class="markdownTableBodyNone">192.168.1.203   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PC 2  </td><td class="markdownTableBodyNone">192.168.1.204   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">J721E/J7200/J784S4 A72 core (virtual net driver)  </td><td class="markdownTableBodyNone">192.168.1.205   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Default Gateway  </td><td class="markdownTableBodyNone">192.168.1.1   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">Subnet Mask  </td><td class="markdownTableBodyNone">255.255.255.0   </td></tr>
</table>
<blockquote class="doxtable">
<p><b>Note:</b> Make sure that all IPs assigned manually are in the same subnet as the Ethernet Firmware. </p>
</blockquote>
<h3><a class="anchor" id="demo_ethfw_ptp_stack"></a>
gPTP stack</h3>
<p>gPTP stack is initialized when Ethernet Firmware RTOS application calls <code>EthFw_initTimeSyncPtp()</code> function, and will continue to run in a separate task.</p>
<p>Once master-slave connection is established between either of the EVMs, slave prints logs showing the hardware/software clock adjustment rate in <em>ppb</em> (parts-per-billion) and difference in master-slave correction in nanoseconds.</p>
<p>This stack supports gPTP config parameters which can be configured in the stack via application, like phase adjustment, clock modes, phase offsets etc. By enabling some optimization config params, an accuracy around +/- 18 nanoseconds can be achieved with convergence time around 4500 msecs.</p>
<p>These params can be configured inside <code>EthApp_configPtpCb()</code> function in <code>&lt;ethfw&gt;/apps/app_remoteswitchcfg_server/mcu2_0/main.c</code> file.</p>
<div class="fragment"><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> * Optimization for best synchronization.</span></div><div class="line"><span class="comment"> * This config will make the adjustment happen more often.</span></div><div class="line"><span class="comment"> * Note that this may have an impact on system performance.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keywordtype">int</span> phase_alpha = 1;</div><div class="line"><span class="keywordtype">int</span> compute_intv = 100;</div><div class="line"><span class="keywordtype">int</span> mrate_ppb = 5;</div><div class="line"><span class="keywordtype">int</span> freq_alpha = 2;</div><div class="line"></div><div class="line">gptpconf_set_item(CONF_PHASE_OFFSET_IIR_ALPHA_STABLE_VALUE, &amp;phase_alpha);</div><div class="line">gptpconf_set_item(CONF_FREQ_OFFSET_IIR_ALPHA_STABLE_VALUE, &amp;freq_alpha);</div><div class="line">gptpconf_set_item(CONF_CLOCK_COMPUTE_INTERVAL_MSEC, &amp;compute_intv);</div><div class="line">gptpconf_set_item(CONF_FREQ_OFFSET_UPDATE_MRATE_PPB, &amp;mrate_ppb);</div></div><!-- fragment --><p>gPTP stack is enabled only in MAC port 3 in the default Ethernet Firmware configuration. When running gPTP demo, user must make sure that MAC port 3 is connected to the gPTP capable device (i.e. another EVM, PC, TSN switch).</p>
<blockquote class="doxtable">
<p><b>Note:</b> gPTP stack is enabled only on MAC port 3. </p>
</blockquote>
<blockquote class="doxtable">
<p><b>Note:</b> gPTP stack is required on <b>PC 2</b> or run ETHFW on another EVM. </p>
</blockquote>
<blockquote class="doxtable">
<p><b>Note:</b> <b>gPTP master (PC 2)</b> should be connected to MAC port 3 in J721E. Refer to <a class="el" href="ethfw_c_ug_top.html#ethfw_depend_evm_gesi_j721e">J721E GESI Expansion Board</a> for MAC port numbers in J721E EVM. CPTS event lookup errors will be seen if connected to a different MAC port. </p>
</blockquote>
<blockquote class="doxtable">
<p><b>Note:</b> <b>gPTP master (PC 2)</b> should be connected to MAC port 3 in J7200. Refer to <a class="el" href="ethfw_c_ug_top.html#ethfw_depend_evm_quadport_j7200">J7200 Quad-Port Eth Expansion Board</a> for MAC port numbers in J7200 EVM. CPTS event lookup errors will be seen if connected to a different MAC port. </p>
</blockquote>
<blockquote class="doxtable">
<p><b>Note:</b> <b>gPTP master (PC 2)</b> should be connected to MAC port 3 in J784S4. Refer to <a class="el" href="ethfw_c_ug_top.html#ethfw_depend_evm_quadport_j784s4">J784S4 Quad-Port Eth Expansion Board</a> for MAC port numbers in J784S4 EVM. CPTS event lookup errors will be seen if connected to a different MAC port. </p>
</blockquote>
<p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<h2><a class="anchor" id="demo_ethfw_combined_CCS"></a>
CCS Boot</h2>
<h3><a class="anchor" id="demo_l2_switchin_CCS_prereqs"></a>
Prerequisites</h3>
<p>Install Code Composer Studio and setup a <b>Target Configuration</b> for use with J721E, J7200 or J784S4 EVM. Refer to <a class="el" href="ethfw_c_ug_top.html#ethfw_instal_ccs">IDE (CCS)</a>.</p>
<h3><a class="anchor" id="demo_ethfw_combined_CCS_steps"></a>
Steps</h3>
<ol type="1">
<li>Connect a micro USB cable to JTAG port of J721E/J7200/J784S4_EVM. The XDS110 JTAG connector is labeled <code>XDS110</code>. Alternatively, XDS560v2 debugger can be connected to the JTAG connected labeled <code>JTAG MIPI</code>.</li>
<li>Connect a micro USB cable to MAIN Domain UART port on J721E/J7200/J784S4 EVM. It's labeled <code>UART</code>.</li>
<li>Set EVM's DIP switches <code>SW8</code> and <code>SW9</code> for no-boot mode:<ul>
<li>SW8 = 10001000</li>
<li>SW9 = 01110000</li>
</ul>
</li>
<li><p class="startli">Open up a serial terminal for UART2 communication. This terminal will show logs from MCU2_0 core where the demo application runs.</p><ul>
<li>Set serial parameters to: 115200 8N1.</li>
<li>Set hardware and software flow control to "No".</li>
<li>Below figure shows serial parameters set in Minicom.</li>
</ul>
<div class="image">
<img src="demo_l2_switching_minicom.png" alt="demo_l2_switching_minicom.png"/>
<div class="caption">
Serial Port Settings in Minicom</div></div>
</li>
<li>Power on the J721E/J7200/J784S4 EVM board. Ensure that SD card is not present or QSPI flashed.</li>
<li>Connect the laptops/PCs as per demo connections diagram above.<ul>
<li><b>Important:</b> DHCP server (if required) must be connected to <b>MAC Port 3</b>.</li>
<li><b>Note:</b> Do not connect any device to <b>MAC Port 1</b> if using J721E/J7200 EVM alpha version as it may not be functional, please refer to the <a class="el" href="ethfw_c_ug_top.html#ethfw_known_issues">Known issues</a> sections for further details</li>
</ul>
</li>
<li>Load application binaries to Main R5F cores in the following sequence:<ul>
<li>Load Main R5F core 0: app_remoteswitchcfg_server_ccs.xer5f</li>
<li>Load Main R5F core 1: app_remoteswitchcfg_client.xer5f</li>
<li>Run Main R5F core 1</li>
<li>Run Main R5F core 0</li>
<li><b>Note:</b> For loading demo application binaries through CCS on J721E/J7200/J784S4, please refer to CCS setup section in SDK top level documentation.</li>
</ul>
</li>
<li>Start Runtime Object View (ROV) in CCS for the Main R5F core 1 and navigate to the SysMin component in order to see the MCU2_1 client application's logs. This application doesn't use an UART port for logging.</li>
</ol>
<blockquote class="doxtable">
<p><b>Note:</b> Linux running on A72 core is not compatible with CCS boot mode. </p>
</blockquote>
<p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<h2><a class="anchor" id="demo_ethfw_combined_sdcard"></a>
SD Card Boot</h2>
<h3><a class="anchor" id="demo_ethfw_combined_sdcard_steps"></a>
Steps</h3>
<ol type="1">
<li>Create a bootable SD card with Linux bootloader, kernel and file system. For details about SD card creation, refer to the Processor SDK Linux Automotive User's Guide.</li>
<li><p class="startli">Copy the demo application to the <code>ethfw</code> directory of Linux filesystem in SD card.</p>
<p class="startli">For J721E using FREERTOS: </p><pre class="fragment">cp &lt;SDK_INSTALL_PATH&gt;/ethfw/out/J721E/R5Ft/FREERTOS/debug/app_remoteswitchcfg_server_strip.xer5f &lt;MOUNT&gt;/rootfs/lib/firmware/ethfw/
</pre><p class="startli">For J7200 using FREERTOS: </p><pre class="fragment">cp &lt;SDK_INSTALL_PATH&gt;/ethfw/out/J7200/R5Ft/FREERTOS/debug/app_remoteswitchcfg_server_strip.xer5f &lt;MOUNT&gt;/rootfs/lib/firmware/ethfw/
</pre></li>
<li><p class="startli">If needed, update the soft-link <code>j7-main-r5f0_0-fw</code> or <code>j7200-main-r5f0_0-fw</code> to point to the demo application copied to SD card in the previous step.</p>
<p class="startli">For J721E: </p><pre class="fragment">cd &lt;MOUNT&gt;/rootfs/lib/firmware/
ln -sf ethfw/app_remoteswitchcfg_server_strip.xer5f j7-main-r5f0_0-fw
</pre><p class="startli">For J7200: </p><pre class="fragment">cd &lt;MOUNT&gt;/rootfs/lib/firmware/
ln -sf ethfw/app_remoteswitchcfg_server_strip.xer5f j7200-main-r5f0_0-fw
</pre></li>
<li><p class="startli"><b>Optional:</b> Copy the remote client application to the <code>firmware</code> directory of Linux filesystem in SD card and update soft-link:</p>
<p class="startli">For J721E using FREERTOS: </p><pre class="fragment">cp &lt;SDK_INSTALL_PATH&gt;/ethfw/out/J721E/R5Ft/FREERTOS/debug/app_remoteswitchcfg_client.xer5f &lt;MOUNT&gt;/rootfs/lib/firmware/
cd &lt;MOUNT&gt;/rootfs/lib/firmware/
ln -sf app_remoteswitchcfg_client.xer5f j7-main-r5f0_1-fw
</pre><p class="startli">For J7200 using FREERTOS: </p><pre class="fragment">cp &lt;SDK_INSTALL_PATH&gt;/ethfw/out/J7200/R5Ft/FREERTOS/debug/app_remoteswitchcfg_client.xer5f &lt;MOUNT&gt;/rootfs/lib/firmware/
cd &lt;MOUNT&gt;/rootfs/lib/firmware/
ln -sf app_remoteswitchcfg_client.xer5f j7200-main-r5f0_1-fw
</pre></li>
<li>Connect a micro USB cable to MAIN Domain UART port on J721E/J7200/J784S4 EVM. It's labeled <code>UART</code>.</li>
<li>Set EVM's DIP switches <code>SW8</code> and <code>SW9</code> for SD card boot:<ul>
<li>SW8 = 10000010</li>
<li>SW9 = 00000000</li>
</ul>
</li>
<li>Open up a serial terminal for UART0 communication. This terminal will show logs from Linux bootloader and kernel.<ul>
<li>Set serial parameters to: 115200 8N1.</li>
</ul>
</li>
<li><p class="startli">Open up a serial terminal for UART2 communication. This terminal will show logs from MCU2_0 core where the demo application runs.</p><ul>
<li>Set serial parameters to: 115200 8N1.</li>
<li>Set hardware and software flow control to "No".</li>
<li>Below figure shows serial parameters set in Minicom.</li>
</ul>
<div class="image">
<img src="demo_l2_switching_minicom.png" alt="demo_l2_switching_minicom.png"/>
<div class="caption">
Serial Port Settings in Minicom</div></div>
</li>
<li>Insert SD card into slot labeled <code>MICRO SD</code> and power on the J721E/J7200/J784S4 EVM board.</li>
</ol>
<p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<hr/>
 <h1><a class="anchor" id="demo_ethfw_combined_execution"></a>
Running the Demo</h1>
<hr/>
<h2><a class="anchor" id="ethfw_demo_connections"></a>
Connecting External Devices</h2>
<ol type="1">
<li>For J721E EVM:<ol type="a">
<li>Connect <b>PC 1</b> to MAC port 3 of GESI board. Refer to the <a class="el" href="ethfw_c_ug_top.html#ethfw_depend_evm_gesi_j721e">J721E EVM GESI Expansion Board</a> section to find the right RJ-45 connector.</li>
<li>Connect <b>PC 2</b> to MAC port 8 of GESI board.</li>
</ol>
</li>
<li>For J7200 EVM:<ol type="a">
<li>Connect <b>PC 1</b> to MAC port 3 of Quad Port Eth board. Refer to the <a class="el" href="ethfw_c_ug_top.html#ethfw_depend_evm_quadport_j7200">J7200 EVM QPENet Expansion Board</a> section to find the right RJ-45 connector.</li>
<li>Connect <b>PC 2</b> to MAC port 2 of QPENet board.</li>
</ol>
</li>
<li>For J784S4 EVM:<ol type="a">
<li>Connect <b>PC 1</b> to MAC port 3 of Quad Port Eth board. Refer to the <a class="el" href="ethfw_c_ug_top.html#ethfw_depend_evm_quadport_j784s4">J784S4 EVM QPENet Expansion Board</a> section to find the right RJ-45 connector.</li>
<li>Connect <b>PC 2</b> to MAC port 5 of QPENet board.</li>
</ol>
</li>
</ol>
<blockquote class="doxtable">
<p><b>Note:</b> The demo application in this release assumes that external devices, <b>PC 1</b> and <b>PC 2</b>, are connected prior to starting the demo. It's a <b>mandatory step</b>. </p>
</blockquote>
<p>The IPs assigned dynamically to Main R5F cores 0 and 1 will be printed in the UART2 serial terminal.</p>
<blockquote class="doxtable">
<p><b>Note:</b> To ping IP of Main R5F core 1 (RTOS Remote Client), <b>PC 1</b> has to be connected to MAC port 3 of GESI board for J721E, MAC port 3 of Quad Port Eth board for J7200 and MAC port 3 of Quad Port Eth for J784S4 respectively. Link status is only used on MAC port 3 to determine link up on virtual switch port. </p>
</blockquote>
<h2><a class="anchor" id="ethfw_virt_net_driver"></a>
Virtual Net Driver on A72</h2>
<p>Once the EVM is booted along with Linux on A72, the virtual net driver module should be loaded and the <code>eth1</code> network device corresponding to CPSW9G should be added.</p>
<ol type="1">
<li>Verify this by running <code>ifconfig -a</code> on Linux terminal console of the EVM.</li>
<li>Activate network interface on A72 core as follows: <pre class="fragment">sudo ifconfig eth1 up
</pre></li>
<li>At this point, data transfer with other devices connected to the network should be possible. Ping the two PCs connected to the switch: <pre class="fragment">ping 192.168.1.&lt;pc1&gt;
ping 192.168.1.&lt;pc2&gt;
</pre></li>
<li>Similarly, ping the A72 core for either PC connected to the switch: <pre class="fragment">ping 192.168.1.&lt;a72&gt;
</pre></li>
</ol>
<p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<h2><a class="anchor" id="ethfw_running_iperf"></a>
iperf</h2>
<h2><a class="anchor" id="ethfw_running_iperf_ethfw"></a>
iperf with ETHFW server</h2>
<p>lwIP iperf server (TCP-only) is enabled by default in Ethernet Firmware starting in SDK 9.0. iperf server is started when lwIP network interface is up. iperf can be demonostrated by running iperf client on any external devices, <b>PC 1</b> or <b>PC 2</b>.</p>
<ol type="1">
<li>Run iperf client on the selected PC. Set test duration with <code>-t</code> option as needed. <pre class="fragment">iperf -c 192.168.1.&lt;r5f_0&gt; -t 20 -i 1
</pre></li>
</ol>
<p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<h2><a class="anchor" id="ethfw_running_iperf_virtmac"></a>
iperf with virtual client</h2>
<p>The CPSW switch is capable of steering network traffic without CPU intervention by classifying it based on its characteristics. This can be demonstrated by running iperf server on Linux running on the A72 core and iperf client on any of the external devices, <b>PC 1</b> or <b>PC 2</b>.</p>
<ol type="1">
<li>Start iperf server on Linux running on A72. <pre class="fragment">iperf -s
</pre></li>
<li>Run iperf client on the selected PC. Set test duration with <code>-t</code> option as needed. <pre class="fragment">iperf -c 192.168.1.&lt;a72&gt; -t 20 -i 1
</pre></li>
</ol>
<p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<h2><a class="anchor" id="ethfw_demo_gptp"></a>
gPTP Stack</h2>
<p>The gPTP stack demo can be run using two TI EVMs running ETHFW SDK 9.x or later. MAC port 3 is the only port where gPTP is enabled by default in Ethernet Firmware configuration, hence the demo requires connecting MAC port 3 on both TI EVMs. The diagram below shows the suggested setup.</p>
<div class="image">
<img src="EthFw_gPTP_demo_connection.png" alt="EthFw_gPTP_demo_connection.png"/>
<div class="caption">
EthFw gPTP demo connections with 2 TI EVMs</div></div>
<p> At runtime, both EVMs will negotiate which device runs as <em>master</em> or <em>slave</em>. ETHFW traces will show the MAC address of the device that will be running as <em>master</em> as shown in the log snippet below:</p>
<div class="fragment"><div class="line">INF:gptp:000006-513181:domainIndex=0, GM changed old=70:FF:76:FF:FE:1E:01:C8, new=70:FF:76:FF:FE:1D:A0:26</div></div><!-- fragment --><p>By default, ETHFW configures gPTP logging to informational trace level to limit the amount of ETHFW traces. However, user may want to see the accuracy of the synchronization achieved on the <em>slave</em> device. This requires a change in the logging level in ETHFW library, from <code>gptp:4</code> to <code>gptp:5</code> as shown in below code snippet.</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> EthFw_tsnInit(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    unibase_init_para_t params;</div><div class="line"></div><div class="line">    ...</div><div class="line"></div><div class="line">    <span class="comment">/*refer to &#39;ub_logging.h for logging levels*/</span></div><div class="line">    ubb_default_initpara(&amp;params);</div><div class="line">    params.ub_log_initstr  = <span class="stringliteral">&quot;5,ubase:5,cbase:5,gptp:5&quot;</span>;</div><div class="line"></div><div class="line">    ...</div><div class="line"></div><div class="line">    unibase_init(&amp;params);</div><div class="line"></div><div class="line">    ...</div><div class="line">}</div></div><!-- fragment --><p>With gPTP log level 5, the following traces can be seen in the <em>master</em> and <em>slave</em> devices. It's worth noting that these logs are captured using the optimization settings suggested in <a class="el" href="demo_ethfw_combined_top.html#demo_ethfw_ptp_stack">gPTP stack</a> section.</p>
<p><b>gPTP master logs</b></p>
<div class="fragment"><div class="line">domain=0, offset=0nsec, hw-adjrate=0ppb</div><div class="line">        gmsync=true, last_setts64=0nsec</div><div class="line">domain=0, offset=0nsec, hw-adjrate=0ppb</div><div class="line">        gmsync=true, last_setts64=0nsec</div><div class="line">domain=0, offset=0nsec, hw-adjrate=0ppb</div><div class="line">        gmsync=true, last_setts64=0nsec</div><div class="line">domain=0, offset=0nsec, hw-adjrate=0ppb</div><div class="line">        gmsync=true, last_setts64=0nsec</div><div class="line">domain=0, offset=0nsec, hw-adjrate=0ppb</div><div class="line">        gmsync=true, last_setts64=0nsec</div><div class="line">domain=0, offset=0nsec, hw-adjrate=0ppb</div><div class="line">        gmsync=true, last_setts64=0nsec</div><div class="line">domain=0, offset=0nsec, hw-adjrate=0ppb</div><div class="line">        gmsync=true, last_setts64=0nsec</div><div class="line">domain=0, offset=0nsec, hw-adjrate=0ppb</div><div class="line">        gmsync=true, last_setts64=0nsec</div></div><!-- fragment --><p><b>gPTP slave logs</b></p>
<p>The traces will show the difference with respect to <em>grand-master</em> clock computed on the <em>slave</em> device. This can give an indication of the synchronization accuracy achieved in this demo.</p>
<div class="fragment"><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2099ppb, GMdiff=-5nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2090ppb, GMdiff=-3nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2084ppb, GMdiff=-3nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2097ppb, GMdiff=-6nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2106ppb, GMdiff=-2nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2062ppb, GMdiff=-5nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2081ppb, GMdiff=0nsec</div><div class="line">domain=0, offset=0nsec, hw-adjrate=2080ppb</div><div class="line">        gmsync=true, last_setts64=0nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2052ppb, GMdiff=-8nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2084ppb, GMdiff=-2nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2072ppb, GMdiff=-4nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2075ppb, GMdiff=-5nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2085ppb, GMdiff=-2nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2053ppb, GMdiff=-6nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2076ppb, GMdiff=0nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2053ppb, GMdiff=0nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2083ppb, GMdiff=6nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2074ppb, GMdiff=-2nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2102ppb, GMdiff=4nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2091ppb, GMdiff=1nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2058ppb, GMdiff=-6nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2075ppb, GMdiff=2nsec</div><div class="line">IFV:gptp:domainNumber=0, clock_master_sync_receive:the master clock rate to 2058ppb, GMdiff=-2nsec</div></div><!-- fragment --><blockquote class="doxtable">
<p><b>Note:</b> ETHFW doesn't provide support for PPS in this release. </p>
</blockquote>
<h2><a class="anchor" id="ethfw_gui_tool_configuration"></a>
GUI Configurator Tool</h2>
<blockquote class="doxtable">
<p><b>Note:</b> GUI configuration requires ETHFW built with demo support, see <a class="el" href="demo_ethfw_combined_top.html#demo_ethfw_demos_cfg">Ethernet Firmware Demos Configuration</a> for more details. </p>
</blockquote>
<ol type="1">
<li><p class="startli">After getting the IP address printed on the console, launch the GUI tool: </p><pre class="fragment">cd &lt;SDK_INSTALL_PATH&gt;/pdk_jacinto_xx_yy_zz/packages/ti/drv/enet/tools/cpsw_configclient
sudo python3 switchconfig_client.py
</pre><p class="startli">You should be able to see a window opening up as shown below.</p>
<div class="image">
<img src="cpswconfigurationtool.png" alt="cpswconfigurationtool.png"/>
<div class="caption">
CPSW Remote Configuration Tool</div></div>
</li>
<li><p class="startli">Select the <b>SETTINGS</b> tab and enter the target IP <code>192.168.1.&lt;r5f_0&gt;</code> as shown below.</p>
<div class="image">
<img src="cpsw_cfgtool_ipset.png" alt="cpsw_cfgtool_ipset.png"/>
<div class="caption">
CPSW Remote Configuration Tool</div></div>
<p> Once the IP is set, the <b>Main R5 Load</b> progress bar will get updated periodically.</p>
</li>
<li>Using the tool the Port statistics can be obtained using the <b>PORT STATISTICS</b> tab.</li>
</ol>
<p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<h2><a class="anchor" id="ethfw_intervlan_routing"></a>
InterVLAN Routing</h2>
<blockquote class="doxtable">
<p><b>Note:</b> InterVLAN routing demo requires ETHFW built with demo support, see <a class="el" href="demo_ethfw_combined_top.html#demo_ethfw_demos_cfg">Ethernet Firmware Demos Configuration</a> for more details. </p>
</blockquote>
<h3><a class="anchor" id="ethfw_sw_intervlan_routing"></a>
Software InterVLAN Routing</h3>
<ol type="1">
<li>Open the <b>CONFIGURATION FILE</b> tab of the GUI tool. Configuration files can be sent to the switch in order to enable or disable features of the CPSW9G or CPSW5G.</li>
<li>To enable software-based interVLAN routing, click on the <b>Open</b> button and select the <code>sw_intervlan_routing_config.txt</code> file present in the <code>&lt;SDK_INSTALL_PATH&gt;/pdk_jacinto_xx_yy_zz/packages/ti/drv/enet/tools/cpsw_configclient/config_files</code> directory.<ul>
<li><b>Note:</b> The list of allowed commands and the configurations are present in the <code>schemas.py</code> file in the <code>cpsw_configclient/inc</code> directory.</li>
<li><b>Note:</b> Update the <code>ing_portNum</code> and <code>egr_portNum</code> accordingly if using different MAC port numbers than those in the config file. This can be done in the <code>CONFIG</code> panel of the <b>CONFIGURATION FILE</b> tab. The port numbers are 0-based, i.e. if packets are submitted via MAC port 1, then <code>"ing_portNum":0</code>.</li>
</ul>
</li>
<li>Press <b>Send Config</b> button to send the configuration to the switch.</li>
<li>Now that the software-based interVLAN routing is enabled, the functionality can be verified by sending packets with VLAN ID using packETH tool.</li>
<li><p class="startli">In the packETH tool on the <b>PC 1</b>, which has IP address <code>192.168.1.&lt;pc1&gt;</code>, load the <code>swintervlanrouting</code> configuration file from <code>&lt;ETHFW_PATH&gt;/docs/packeth_configurations/</code> directory.</p>
<p class="startli">The loaded configuration should match with the below picture.</p>
<div class="image">
<img src="packethswintervlan.png" alt="packethswintervlan.png"/>
<div class="caption">
packETH settings for software interVLAN routing</div></div>
</li>
<li><p class="startli">packETH configuration for software interVLAN routing:</p><ul>
<li>Destination MAC = <code>02:00:00:00:00:02</code></li>
<li>Source MAC = <code>00:11:01:00:00:01</code></li>
<li>VLAN ID = 0x64</li>
<li>Source IP = <code>192.168.1.202</code></li>
<li>Destination IP = <code>192.168.1.204</code></li>
<li>TTL = 255</li>
<li>Payload = 300 bytes</li>
</ul>
<p class="startli">Note that source and destination IP address don't have to match either <b>PC 1</b> or <b>PC 2</b> address. They match the IP address in the <code>sw_intervlan_routing_config.txt</code> config file, so they must not be changed.</p>
</li>
<li>The packets sent with the above configuration will be routed to the <b>PC 2</b> with IP address <code>192.168.1.&lt;pc2&gt;</code> and the VLAN ID will be changed to 0xC8 (200 in decimal). This can be verified using tools like Wireshark on the receiver PC.</li>
<li>The received packets should have the following header:<ul>
<li>Destination MAC = <code>00:11:02:00:00:01</code></li>
<li>Source MAC = <code>02:00:00:00:00:02</code></li>
<li>VLAN ID = 0xC8</li>
<li>Source IP = <code>192.168.1.202</code></li>
<li>Destination IP = <code>192.168.1.204</code></li>
<li>TTL = 254</li>
<li>Payload = 300 bytes</li>
</ul>
</li>
<li>Run bmon tool on <b>PC 2</b> to monitor the bandwidth of the traffic being received from the switch.</li>
<li>If packets are sent at a higher data rate, the CPU load will spike up. This can be clearly seen from the GUI tool.</li>
</ol>
<h3><a class="anchor" id="ethfw_hw_intervlan_routing"></a>
Hardware InterVLAN Routing</h3>
<ol type="1">
<li>Open the <b>CONFIGURATION FILE</b> tab of the GUI tool.</li>
<li>To enable hardware-based interVLAN routing, click on the <b>Open</b> button and select the <code>hw_intervlan_routing_config.txt</code> file present in the <code>&lt;SDK_INSTALL_PATH&gt;/pdk_jacinto_xx_yy_zz/packages/ti/drv/enet/tools/cpsw_configclient/config_files</code> directory.<ul>
<li><b>Note:</b> Update the <code>ing_portNum</code> and <code>egr_portNum</code> accordingly if using different MAC port numbers than those in the config file. This can be done in the <code>CONFIG</code> panel of the <b>CONFIGURATION FILE</b> tab. The port numbers are 0-based, i.e. if packets are submitted via MAC port 1, then <code>"ing_portNum":0</code>.</li>
</ul>
</li>
<li>Press <b>Send Config</b> button to send the configuration to the switch.</li>
<li>Now that the hardware-based interVLAN routing is enabled, the functionality can be verified by sending packets with VLAN ID using packETH tool.</li>
<li><p class="startli">Load the <code>hwintervlanrouting</code> configuration file from <code>&lt;ETHFW_PATH&gt;/docs/packeth_configurations/</code> directory.</p>
<p class="startli">The loaded configuration should match with the below picture.</p>
<div class="image">
<img src="packethhwintervlan.png" alt="packethhwintervlan.png"/>
<div class="caption">
packETH settings for hardware interVLAN routing</div></div>
</li>
<li><p class="startli">packETH configuration for hardware interVLAN routing:</p><ul>
<li>Destination MAC = <code>02:00:00:00:00:02</code></li>
<li>Source MAC = <code>00:11:01:00:00:01</code></li>
<li>VLAN ID = 0x64</li>
<li>Source IP = <code>192.168.1.201</code></li>
<li>Destination IP = <code>192.168.1.204</code></li>
<li>TTL = 255</li>
<li>Payload = 300 Bytes</li>
</ul>
<p class="startli">Note that source and destination IP address don't have to match either <b>PC 1</b> or <b>PC 2</b> address. They match the IP address in the <code>hw_intervlan_routing_config.txt</code> config file, so they must not be changed.</p>
</li>
<li>The packets sent with the above configuration will be routed to the <b>PC 2</b> with IP address <code>192.168.1.&lt;pc2&gt;</code> and the VLAN ID will be changed to 0xC8 (200 in decimal). This can be verified using tools like Wireshark on the receiver PC.</li>
<li>The received packets should have the following header:<ul>
<li>Destination MAC = <code>00:11:02:00:00:01</code></li>
<li>Source MAC = <code>02:00:00:00:00:02</code></li>
<li>VLAN ID = 0xC8</li>
<li>Source IP = <code>192.168.1.201</code></li>
<li>Destination IP = <code>192.168.1.204</code></li>
<li>TTL = 254</li>
<li>Payload = 300 bytes</li>
</ul>
</li>
<li>Run bmon tool on <b>PC 2</b> to monitor the bandwidth of the traffic being received from the switch.</li>
<li>Since the routing is now offloaded to hardware, there will be no impact on the CPU load even for data rates as high as 1Gbps.</li>
</ol>
<p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<h2><a class="anchor" id="ethfw_ip_nxthdr_filtering"></a>
IP Next Header Filtering</h2>
<blockquote class="doxtable">
<p><b>Note:</b> IP next header filtering demo requires ETHFW built with demo support, see <a class="el" href="demo_ethfw_combined_top.html#demo_ethfw_demos_cfg">Ethernet Firmware Demos Configuration</a> for more details. </p>
</blockquote>
<p>CPSW9G supports whitelisting of up to four different IP protocols for a VLAN group. This demo white-lists TCP and UDP protocols and hence blocking packets of other protocols in the VLAN network.</p>
<ol type="1">
<li>Add a VLAN entry with <code>vlanId: 0x2BC (700 in decimal)</code> with host port, MAC ports 2 and 3 as members of the VLAN group.</li>
<li>Open the <b>CONFIGURATION FILE</b> tab of the GUI tool.</li>
<li>To add the above mentioned VLAN entry, click on the <b>Open</b> button and select the <code>ip_nxt_hdr_whitelisting_config.txt</code> file present in the <code>&lt;SDK_INSTALL_PATH&gt;/pdk_jacinto_xx_yy_zz/packages/ti/drv/enet/tools/cpsw_configclient/config_files</code> directory.</li>
<li>Press <b>Send Config</b> button to send the configuration to the switch.</li>
<li>Load the <code>ipnxthdr_tcp</code> configuration file from <code>&lt;ETHFW_PATH&gt;/docs/packeth_configurations/</code> directory to the packEth tool and start sending packets.</li>
<li>Since TCP is whitelisted, the packets will be received at <b>PC 2</b>. This can be verified by using Wireshark in <b>PC 2</b> with <code>ip.addr eq 192.168.1.202 &amp;&amp; vlan</code> filter.</li>
<li>Similarly, <code>ipnxthdr_udp</code> packETH configuration can be used to verify UDP.</li>
<li>Since the ICMP protocol is not whitelisted, packets sent using <code>ipnxthdr_icmp_echorequest</code> from packETH won't be received at <b>PC 2</b>.</li>
</ol>
<p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<h2><a class="anchor" id="ethfw_rate_limiting"></a>
Rate Limiting</h2>
<blockquote class="doxtable">
<p><b>Note:</b> Rate limiting demo requires ETHFW built with demo support, see <a class="el" href="demo_ethfw_combined_top.html#demo_ethfw_demos_cfg">Ethernet Firmware Demos Configuration</a> for more details. </p>
</blockquote>
<ol type="1">
<li>Rate Limiting can be enabled by adding a policer entry with parameters like Source and Destination MAC address of the traffic to be limited. The rate at which the traffic is limited is based on the values of Peak Information Rate (PIR) and Committed Information Rate (CIR) both in bits per second (bps) set in the policer entry.</li>
<li>Open the <b>CONFIGURATION FILE</b> tab of the GUI tool.</li>
<li>To enable rate limiting, click on the <b>Open</b> button and select the <code>rate_limiting_config.txt</code> file present in the <code>&lt;SDK_INSTALL_PATH&gt;/pdk_jacinto_xx_yy_zz/packages/ti/drv/enet/tools/cpsw_configclient/config_files</code> directory.</li>
<li>Press <b>Send Config</b> button to send the configuration to the switch.</li>
<li>Load the <code>ratelimiting</code> configuration file from <code>&lt;ETHFW_PATH&gt;/docs/packeth_configurations/</code> directory to the packETH tool and stat sending packets at a rate more than 200 Mbps.</li>
<li>The packets received at the <b>PC 2</b> will not exceed the receive rate of 200Mbps (~25MBps), since the PIR is set to 200 Mbps. This can be verified by checking the receive rate using <code>bmon</code> or <code>System Monitor</code> in <b>PC 2</b>.</li>
</ol>
<p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<hr/>
<h2><a class="anchor" id="ethfw_intercore_communication"></a>
Inter-core Virtual Ethernet communication</h2>
<h3><a class="anchor" id="intercore_rtos_client_test"></a>
RTOS client test</h3>
<p>Inter-core virtual Ethernet is enabled by default on RTOS cores (unless disabled using build flags). As such it is always used for incoming and outgoing broadcast messages, as well as unicast messages between cores.</p>
<p>Examples of broadcast data flows exercised in this demo are given below.</p>
<ul>
<li><p class="startli"><b>RTOS remote client DHCP procedure:</b> Main R5F core1 starts DHCP procedure by sending a DHCP discover broadcast packet, which is forwarded by the main R5F core1 bridge to main R5F core0 bridge over inter-core interface. The main R5F core0 bridge also broadcasts this packet thus sending it out to the external DHCP server via the Enet LLD interface. Outgoing broadcast packets follow this data path:</p>
<p class="startli"><b>Main R5F core1 network stack &rarr; Main R5F core1 bridge &rarr; Main R5F core0 bridge (over intercore) &rarr; Main R5F core0 Enet LLD netif &rarr; Linux PC (DHCP server)</b></p>
</li>
<li><p class="startli"><b>Incoming ARP broadcast from PC:</b> Ping Main R5F core1 remote client from Linux PC. This results in the PC sending an ARP broadcast to resolve the MAC address of the remote core. Incoming broadcast packets follow this data path:</p>
<p class="startli"><b>Broadcast form PC &rarr; Main R5F core0 Enet LLD netif &rarr; Main R5F core0 bridge &rarr; Main R5F core1 bridge (over intercore) &rarr; Main R5F core1 network stack</b></p>
</li>
</ul>
<div class="image">
<img src="Intercore_rtos_rtos_path.png" alt="Intercore_rtos_rtos_path.png"/>
<div class="caption">
Inter-core Virtual Ethernet - RTOS client test</div></div>
 <h3><a class="anchor" id="intercore_linux_client_test"></a>
Linux client test</h3>
<h4><a class="anchor" id="intercore_linux_tap_app"></a>
TAP User-space Application</h4>
<p>The <code>tap</code> user-space application serves as a medium to facilitate the exchange of Ethernet frames between the A72 Linux and R5_0 (MCU2_0) master cores. To achieve this, a TAP device is used to read from and write to the Linux network stack. Ethernet frames are copied from/to the shared memory region to allow other cores to access it.</p>
<p><a class="anchor" id="invalid"></a></p><h5>Compiling and installing TAP application</h5>
<p>The TAP application is provided as part of the Ethernet Firmware software component in the Processor SDK, it can be found at <code>ethfw/apps/tap</code>. The TAP application needs to be cross-compiled using Linux toolchain and then installed to the Linux filesystem. The steps listed below assume that an SD card is used for Linux booting of the TI EVM.</p>
<ol type="1">
<li>Download the Linux toolchain via <code>setuptools.sh</code> helper script. <pre class="fragment">$ ./setuptools.sh
</pre></li>
<li><p class="startli">Cross-compile the TAP application and install in SD card. Here,<code>&lt;aarch64-none-linux-gnu install dir&gt;</code> is the absolute path where the ARM64 A72 Linux compiler was installed using <code>setuptools.sh</code> in previous step. $SOC is the soc (J7200, J721E or J784S4) for which we are running tap application. </p><pre class="fragment">$ make CROSS_COMPILE=&lt;aarch64-none-linux-gnu install dir&gt;/bin/aarch64-none-linux-gnu- install DESTDIR=&lt;Path to the root file system on SD card&gt; SOC=&lt;SOC&gt;
</pre><p class="startli">For example, if the ARM64 A72 Linux compiler was installed in <code>&lt;PSDK_RTOS_PATH&gt;/ethfw/apps/tap/gcc-arm-9.2-2019.12-x86_64-aarch64-none-linux-gnu</code>, and the SD card is mounted at <code>/media/username</code> and the file system is at <code>/media/username/root</code> and soc is <code>SOC</code>, then the make command should be: </p><pre class="fragment">$ make CROSS_COMPILE=&lt;PSDK_RTOS_PATH&gt;/ethfw/apps/tap/gcc-arm-9.2-2019.12-x86_64-aarch64-none-linux-gnu/bin/aarch64-none-linux-gnu- install DESTDIR=/media/username/root SOC=&lt;SOC&gt;
</pre></li>
<li>Boot the TI EVM from SD card as usual, and run below command to ensure that the systemd service <code>launch_tap.service</code> starts up automatically on boot. With this, on the next boot, the user-space application should be running automatically in the background. <pre class="fragment">$ systemctl enable launch_tap.service
</pre></li>
<li>On successfull startup of the tap service, a new network interface called <code>tap0</code> will be created and it will get an IP address assigned using DHCP. The network interface <code>tap0</code> should also show up in the list of available network interfaces using the <code>ifconfig</code> command: <pre class="fragment">$ ifconfig tap0
  tap0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500  metric 1
          inet 192.168.1.220  netmask 255.255.255.0  broadcast 192.168.1.255
          inet6 fe80::201:2ff:fe04:506  prefixlen 64  scopeid 0x20&lt;link&gt;
          ether 00:01:02:04:05:06  txqueuelen 1000  (Ethernet)
          RX packets 82  bytes 6932 (6.7 KiB)
          RX errors 0  dropped 0  overruns 0  frame 0
          TX packets 44  bytes 5534 (5.4 KiB)
          TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</pre></li>
</ol>
<p><a class="anchor" id="invalid"></a></p><h5>Debugging</h5>
<p>By default, the systemd service <code>launch_tap.service</code> will run the shell script <code>tapif.sh</code> during boot up. However, it is possible to manually relaunch the application either for testing purposes or in case of errors during automatic startup:</p>
<ol type="1">
<li>Navigate to the directory containing <code>tapif.sh</code> file and the <code>tapif</code> executable (typically /usr/bin).</li>
<li>Execute the shell script <code>tapif.sh</code> which shall initialize the TAP device and launch the user-space application. <pre class="fragment">$ cd /usr/bin
$ ls -la tap*
-rwxr-xr-x 1 root root 29216 Feb 27 05:08 tapif
-rwxr-xr-x 1 root root  9846 Feb 27 05:07 tapif.sh
$
$ bash tapif.sh&amp;
[1] 2615
Discovered Bufpool Base Address at 0xfb800000 from device tree
And the Bufpool region length is 0x01800000
Discovered Queue Base Address at 0xfb000000 from device tree
And the Queue region length is 0x00800000
------------------------------------------------
Selected Configuration:
------------------------------------------------
TAP Device name tap0
RX Queue Id 2
TX Queue Id 3
Maximum number of queues 4
Queue Base 0xfb000000
Queue Len 0x00[  385.548282] IPv6: ADDRCONF(NETDEV_CHANGE): tap0: link becomes ready
800000
Polling interval 1000
Maximum number of bufpools 4
Bufpool base 0xfb800000
Bufpool len 0x01800000
TX Bufpool ID 2
TAP IP
TAP MAC 00:01:02:04:05:06
MAX TX 64
MAX RX 64
------------------------------------------------
Opened TAP Device successfully
Queue Mapping Succeeded
Bufpool Mapping Succeeded
Assigned Queue Handles
Queues have been initialized
Assigned Bufpool Handle
Bufpool Init: Values Initialized
Bufpool Init: Cleared Buffers
Initialized Bufpool
Initialization complete
-------------------------------------------------------------------------
Starting TX and RX Tasks
Started TX Task
Started RX Task
Fetching IP address from DHCP server
udhcpc: started, v1.31.1
udhcpc: sending discover
udhcpc: sending select for 192.168.1.220
udhcpc: lease of 192.168.1.220 obtained, lease time 534
</pre></li>
<li>The inter-core virtual Ethernet interface and <code>tapif</code> user-space application can be shutdown if needed by executing the script <code>cleantapif.sh</code> which is provided in the same directory. <pre class="fragment">$ cd /usr/bin
$ bash ./cleantapif.sh        
</pre></li>
</ol>
<h4><a class="anchor" id="intercore_running_linux_client_test"></a>
Running the test</h4>
<p>The broadcast data flows shown in <a class="el" href="demo_ethfw_combined_top.html#intercore_rtos_client_test">RTOS client test</a> apply to the Linux remote client as well with a few minor differences:</p>
<ol type="1">
<li>Users need to run the <b>TAP</b> demo application under Linux on the A72 core to use inter-core virtual Ethernet. Please refer to the instructions provided in <a class="el" href="demo_ethfw_combined_top.html#intercore_linux_tap_app">TAP User-space Application</a> section.</li>
<li>Users need to manually configure a bridge in Linux to bridge the Enet LLD and TAP network interfaces. If the network interfaces are not bridged then the user will need to ensure that inter-core traffic is sent to the TAP network interface.</li>
</ol>
<p>In addition to the broadcast data flows listed above, users can also run network utilities such as ping and iperf from the Linux client to run network tests with Main R5F core0 master and/or Main R5F core1 client cores as the destination. For instance, the A72 shell log below shows an iperf test originated from the A72 remote client with main R5F core0 master as the server. The IP address assignments are listed below:</p>
<p><b>A72 client:</b> 192.168.1.201 <br />
 <b>Main R5F core0 server:</b> 192.168.1.200</p>
<div class="image">
<img src="Intercore_rtos_linux_path.png" alt="Intercore_rtos_linux_path.png"/>
<div class="caption">
Inter-core Virtual Ethernet - A72 Linux client test</div></div>
 <div class="fragment"><div class="line">$ iperf -c 192.168.1.200</div><div class="line">------------------------------------------------------------</div><div class="line">Client connecting to 192.168.1.200, TCP port 5001</div><div class="line">TCP window size: 85.0 KByte (default)</div><div class="line">------------------------------------------------------------</div><div class="line">[  3] local 192.168.1.201 port 46830 connected with 192.168.1.200 port 5001</div><div class="line">[ ID] Interval       Transfer     Bandwidth</div><div class="line">[  3]  0.0-10.1 sec  12.9 MBytes  10.7 Mbits/sec</div></div><!-- fragment --><p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<hr/>
<h2><a class="anchor" id="demo_ethfw_combined_output"></a>
Sample output</h2>
<p>Below is a sample log from the execution of this demo application.</p>
<h3><a class="anchor" id="demo_ethfw_combined_output_j721e"></a>
J721E</h3>
<h4><a class="anchor" id="demo_ethfw_combined_logs_uart_j721e"></a>
UART Console Logs (MCU2_0 Server Application)</h4>
<div class="fragment"><div class="line">Detected boards: GESI QSGMII</div><div class="line">=======================================================</div><div class="line">            CPSW Ethernet Firmware                     </div><div class="line">=======================================================</div><div class="line">ETHFW: Shared multicasts (software fanout):</div><div class="line">  01:00:5e:00:00:01</div><div class="line">  01:00:5e:00:00:fb</div><div class="line">  01:00:5e:00:00:fc</div><div class="line">  33:33:00:00:00:01</div><div class="line">  33:33:ff:1d:92:c2</div><div class="line">  01:80:c2:00:00:00</div><div class="line">  01:80:c2:00:00:03</div><div class="line">ETHFW: Reserved multicasts:</div><div class="line">  01:80:c2:00:00:0e</div><div class="line">  01:1b:19:00:00:00</div><div class="line">EnetMcm: CPSW_9G on MAIN NAVSS</div><div class="line">Mdio_open: MDIO manual mode enabled</div><div class="line">PHY 0 is alive</div><div class="line">PHY 3 is alive</div><div class="line">PHY 12 is alive</div><div class="line">PHY 15 is alive</div><div class="line">PHY 16 is alive</div><div class="line">PHY 17 is alive</div><div class="line">PHY 18 is alive</div><div class="line">PHY 19 is alive</div><div class="line">PHY 23 is alive</div><div class="line">EnetPhy_bindDriver: PHY 12: OUI:080028 Model:23 Ver:01 &lt;-&gt; &#39;dp83867&#39; : OK</div><div class="line">EnetPhy_bindDriver: PHY 0: OUI:080028 Model:23 Ver:01 &lt;-&gt; &#39;dp83867&#39; : OK</div><div class="line">EnetPhy_bindDriver: PHY 3: OUI:080028 Model:23 Ver:01 &lt;-&gt; &#39;dp83867&#39; : OK</div><div class="line">EnetPhy_bindDriver: PHY 15: OUI:080028 Model:23 Ver:01 &lt;-&gt; &#39;dp83867&#39; : OK</div><div class="line">EnetPhy_bindDriver: PHY 16: OUI:0001c1 Model:27 Ver:00 &lt;-&gt; &#39;vsc8514&#39; : OK</div><div class="line">EnetPhy_bindDriver: PHY 17: OUI:0001c1 Model:27 Ver:00 &lt;-&gt; &#39;vsc8514&#39; : OK</div><div class="line">EnetPhy_bindDriver: PHY 18: OUI:0001c1 Model:27 Ver:00 &lt;-&gt; &#39;vsc8514&#39; : OK</div><div class="line">EnetPhy_bindDriver: PHY 19: OUI:0001c1 Model:27 Ver:00 &lt;-&gt; &#39;vsc8514&#39; : OK</div><div class="line"></div><div class="line">ETHFW Version   : 0.02.00</div><div class="line">ETHFW Build Date: Jul 25, 2023</div><div class="line">ETHFW Build Time: 20:50:47</div><div class="line">ETHFW Commit SHA: 4a3cb5f3</div><div class="line"></div><div class="line">unibase-1.1.4-jacinto</div><div class="line">Starting lwIP, local interface IP is dhcp-enabled</div><div class="line">Host MAC address: 70:ff:76:1d:93:50</div><div class="line">[LWIPIF_LWIP] Enet LLD netif initialized successfully</div><div class="line">[LWIPIF_LWIP_IC] Interface started successfully</div><div class="line">[LWIPIF_LWIP_IC] NETIF INIT SUCCESS</div><div class="line">[LWIPIF_LWIP_IC] Interface started successfully</div><div class="line">[LWIPIF_LWIP_IC] NETIF INIT SUCCESS</div><div class="line">Added interface &#39;br4&#39;, IP is 0.0.0.0</div><div class="line">ETHFW: Enable gPTP on MAC port 3 (tilld3)</div><div class="line">ETHFW: TimeSync PTP enabled</div><div class="line">CpswProxyServer: Virtual port configuration:</div><div class="line">  mpu_1_0 &lt;-&gt; Switch port 0: mpu_1_0_ethswitch-device-0</div><div class="line">  mcu_2_1 &lt;-&gt; Switch port 1: mcu_2_1_ethswitch-device-1</div><div class="line">  mpu_1_0 &lt;-&gt; MAC port 1: mpu_1_0_ethmac-device-1</div><div class="line">  mcu_2_1 &lt;-&gt; MAC port 4: mcu_2_1_ethmac-device-4</div><div class="line">INF:cbase:cb_rawsock_open:dmaTxChId=-1 dmaRxChId=-1 nTxPkts=0 nRxPkts=0 pktSize=0</div><div class="line">INF:gptp:gptpnet_init:Open lldtsync OK!</div><div class="line">CpswProxyServer: initialization completed (core: mcu2_0)</div><div class="line">INF:gptp:000003-125397:domainIndex=0, GM changed old=00:00:00:00:00:00:00:00, new=70:FF:76:FF:FE:1D:93:50</div><div class="line">INF:gptp:set_phase_offsetGM:domainNumber=0, New adjustment(New GM?)</div><div class="line">Cpsw_handleLinkUp: Port 3: Link up: 1-Gbps Full-Duplex</div><div class="line">INF:gptp:index=1 speed=1000, duplex=full, ptpdev=tilld3</div><div class="line">Function:CpswProxyServer_attachExtHandlerCb,HostId:4,CpswType:6</div><div class="line">Function:CpswProxyServer_ioctlHandlerCb,HostId:4,Handle:a2baf948,CoreKey:38acb976, Cmd:1010401,InArgsLen:0, OutArgsLen:4</div><div class="line">Function:CpswProxyServer_ioctlHandlerCb,HostId:4,Handle:a2baf948,CoreKey:38acb976, Cmd:1010201,InArgsLen:24, OutArgsLen:4</div><div class="line">Function:CpswProxyServer_registerMacHandlerCb,HostId:4,Handle:a2baf948,CoreKey:38acb976, MacAddress:70:ff:76:1d:93:51, FlowIdx:180, FlowIdxOffset:8</div><div class="line">Cpsw_ioctlInternal: CPSW: Registered MAC address. ALE entry:8, Policer Entry:2</div><div class="line">Function:CpswProxyServer_registerRemoteTimerHandlerCb,HostId:4,Handle:a2baf948,CoreKey:38acb976, Name:mcu_2_1_ethswitch-device-1, Timer:1, PushNum:2</div><div class="line">Function:CpswProxyServer_attachExtHandlerCb,HostId:4,CpswType:6</div><div class="line">Function:CpswProxyServer_ioctlHandlerCb,HostId:4,Handle:a2baf948,CoreKey:38acb976, Cmd:1010401,InArgsLen:0, OutArgsLen:4</div><div class="line">Function:CpswProxyServer_ioctlHandlerCb,HostId:4,Handle:a2baf948,CoreKey:38acb976, Cmd:1010201,InArgsLen:24, OutArgsLen:4</div><div class="line">Added interface &#39;br4&#39;, IP is 10.24.68.207</div><div class="line">Function:CpswProxyServer_registerMacHandlerCb,HostId:4,Handle:a2baf948,CoreKey:38acb976, MacAddress:70:ff:76:1d:87:2a, FlowIdx:181, FlowIdxOffset:9</div></div><!-- fragment --><h4><a class="anchor" id="demo_ethfw_combined_logs_sysmin_j721e"></a>
CCS Console Logs (MCU2_1 Client Application)</h4>
<div class="fragment"><div class="line">[MAIN_Cortex_R5_0_1] Remote device (core : mcu2_1) .....</div><div class="line">Remote Device Framework Endpoint located. Remote Core Id:3, Remote End Point:26</div><div class="line">Connecting to &#39;mcu_2_1_ethswitch-device-1&#39;</div><div class="line">Connecting to &#39;mcu_2_1_ethmac-device-4&#39;</div><div class="line">Registered a device name = mcu_2_1_ethswitch-device-1, id = 0, type = 3</div><div class="line">ETHFW Version: 0. 2. 0</div><div class="line">ETHFW Version: 0. 2. 0</div><div class="line">Registered a device name = mcu_2_1_ethmac-device-4, id = 1, type = 3</div><div class="line">ETHFW Version: 0. 2. 0</div><div class="line">ETHFW Build Date (YYYY/MMM/DD):2023/Jul/25</div><div class="line">ETHFW Commit SHA:4a3cb5f3</div><div class="line">ETHFW PermissionFlag:0x3fffffff, UART Connected:true,UART Id:2</div><div class="line">ETHFW Build Date (YYYY/MMM/DD):2023/Jul/25</div><div class="line">ETHFW Commit SHA:4a3cb5f3</div><div class="line">ETHFW PermissionFlag:0x3fffffff, UART Connected:true,UART Id:2</div><div class="line">Starting lwIP, local interface IP is dhcp-enabled</div><div class="line">Function:CpswProxy_cmdHandler,Handle:a2baf948,CoreKey:38acb976, RxMtu:1522, TxMtu:2024:2024:2024:2024:2024:2024:2024:2024, TxCsum:enabled, MacOnly:0</div><div class="line">[LWIPIF_LWIP] Enet LLD netif initialized successfully</div><div class="line">[LWIPIF_LWIP_IC] Interface started successfully</div><div class="line">[LWIPIF_LWIP_IC] NETIF INIT SUCCESS</div><div class="line">Added interface &#39;ti1&#39;, IP is 0.0.0.0</div><div class="line">Added interface &#39;br3&#39;, IP is 0.0.0.0</div><div class="line">Starting lwIP, local interface IP is dhcp-enabled</div><div class="line">Function:CpswProxy_cmdHandler,Handle:a2baf948,CoreKey:38acb976, RxMtu:1522, TxMtu:2024:2024:2024:2024:2024:2024:2024:2024, TxCsum:enabled, MacOnly:4</div><div class="line">[LWIPIF_LWIP] Enet LLD netif initialized successfully</div><div class="line">Added interface &#39;ti4&#39;, IP is 0.0.0.0</div><div class="line">Added interface &#39;br3&#39;, IP is 10.24.68.225</div><div class="line">Current Synchronized time via HWPUSH_2 in Epoch format: 29811001411</div><div class="line">Current Synchronized time via HWPUSH_2 in Epoch format: 46990860627</div></div><!-- fragment --><p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<h3><a class="anchor" id="demo_ethfw_combined_output_j7200"></a>
J7200</h3>
<h4><a class="anchor" id="demo_ethfw_combined_logs_uart_j7200"></a>
UART Console Logs (MCU2_0 Server Application)</h4>
<div class="fragment"><div class="line">Detected boards: QSGMII</div><div class="line">=======================================================</div><div class="line">            CPSW Ethernet Firmware                     </div><div class="line">=======================================================</div><div class="line">Warning: Using 2 MAC address(es) from static pool</div><div class="line">ETHFW: Shared multicasts (software fanout):</div><div class="line">  01:00:5e:00:00:01</div><div class="line">  01:00:5e:00:00:fb</div><div class="line">  01:00:5e:00:00:fc</div><div class="line">  33:33:00:00:00:01</div><div class="line">  33:33:ff:1d:92:c2</div><div class="line">  01:80:c2:00:00:00</div><div class="line">  01:80:c2:00:00:03</div><div class="line">ETHFW: Reserved multicasts:</div><div class="line">  01:80:c2:00:00:0e</div><div class="line">  01:1b:19:00:00:00</div><div class="line">EnetMcm: CPSW_5G on MAIN NAVSS</div><div class="line">Mdio_open: MDIO manual mode enabled</div><div class="line">PHY 0 is alive</div><div class="line">PHY 3 is alive</div><div class="line">PHY 16 is alive</div><div class="line">PHY 17 is alive</div><div class="line">PHY 18 is alive</div><div class="line">PHY 19 is alive</div><div class="line">PHY 23 is alive</div><div class="line">EnetPhy_bindDriver: PHY 16: OUI:0001c1 Model:27 Ver:00 &lt;-&gt; &#39;vsc8514&#39; : OK</div><div class="line">EnetPhy_bindDriver: PHY 17: OUI:0001c1 Model:27 Ver:00 &lt;-&gt; &#39;vsc8514&#39; : OK</div><div class="line">EnetPhy_bindDriver: PHY 18: OUI:0001c1 Model:27 Ver:00 &lt;-&gt; &#39;vsc8514&#39; : OK</div><div class="line">EnetPhy_bindDriver: PHY 19: OUI:0001c1 Model:27 Ver:00 &lt;-&gt; &#39;vsc8514&#39; : OK</div><div class="line"></div><div class="line">ETHFW Version   : 0.02.00</div><div class="line">ETHFW Build Date: Jul 25, 2023</div><div class="line">ETHFW Build Time: 13:21:16</div><div class="line">ETHFW Commit SHA: 4a3cb5f3</div><div class="line"></div><div class="line">unibase-1.1.4-jacinto</div><div class="line">Starting lwIP, local interface IP is dhcp-enabled</div><div class="line">Host MAC address: 70:ff:76:1e:af:db</div><div class="line">[LWIPIF_LWIP] Enet LLD netif initialized successfully</div><div class="line">[LWIPIF_LWIP_IC] Interface started successfully</div><div class="line">[LWIPIF_LWIP_IC] NETIF INIT SUCCESS</div><div class="line">[LWIPIF_LWIP_IC] Interface started successfully</div><div class="line">[LWIPIF_LWIP_IC] NETIF INIT SUCCESS</div><div class="line">Added interface &#39;br4&#39;, IP is 0.0.0.0</div><div class="line">ETHFW: Enable gPTP on MAC port 3 (tilld3)</div><div class="line">ETHFW: TimeSync PTP enabled</div><div class="line">CpswProxyServer: Virtual port configuration:</div><div class="line">  mpu_1_0 &lt;-&gt; Switch port 0: mpu_1_0_ethswitch-device-0</div><div class="line">  mcu_2_1 &lt;-&gt; Switch port 1: mcu_2_1_ethswitch-device-1</div><div class="line">  mpu_1_0 &lt;-&gt; MAC port 1: mpu_1_0_ethmac-device-1</div><div class="line">  mcu_2_1 &lt;-&gt; MAC port 4: mcu_2_1_ethmac-device-4</div><div class="line">INF:cbase:cb_rawsock_open:dmaTxChId=-1 dmaRxChId=-1 nTxPkts=0 nRxPkts=0 pktSize=0</div><div class="line">INF:gptp:gptpnet_init:Open lldtsync OK!</div><div class="line">CpswProxyServer: initialization completed (core: mcu2_0)</div><div class="line">INF:gptp:000002-750275:domainIndex=0, GM changed old=00:00:00:00:00:00:00:00, new=70:FF:76:FF:FE:1E:AF:DB</div><div class="line">INF:gptp:set_phase_offsetGM:domainNumber=0, New adjustment(New GM?)</div><div class="line">CpswMacPort_checkSgmiiStatus: MAC 2: SGMII link parter config port: link up: 1-Gbps Full-Duplex</div><div class="line">Cpsw_handleLinkUp: Port 2: Link up: 1-Gbps Full-Duplex</div><div class="line">Function:CpswProxyServer_attachExtHandlerCb,HostId:4,CpswType:5</div><div class="line">Function:CpswProxyServer_ioctlHandlerCb,HostId:4,Handle:a2ba8c00,CoreKey:38acb976, Cmd:1010401,InArgsLen:0, OutArgsLen:4</div><div class="line">Function:CpswProxyServer_ioctlHandlerCb,HostId:4,Handle:a2ba8c00,CoreKey:38acb976, Cmd:1010201,InArgsLen:24, OutArgsLen:4</div><div class="line">Function:CpswProxyServer_registerMacHandlerCb,HostId:4,Handle:a2ba8c00,CoreKey:38acb976, MacAddress:70:ff:76:1d:92:c1, FlowIdx:92, FlowIdxOffset:8</div><div class="line">Cpsw_ioctlInternal: CPSW: Registered MAC address. ALE entry:12, Policer Entry:2</div><div class="line">Function:CpswProxyServer_registerRemoteTimerHandlerCb,HostId:4,Handle:a2ba8c00,CoreKey:38acb976, Name:mcu_2_1_ethswitch-device-1, Timer:1, PushNum:2</div><div class="line">Function:CpswProxyServer_attachExtHandlerCb,HostId:4,CpswType:5</div><div class="line">Added interface &#39;br4&#39;, IP is 10.24.68.175</div><div class="line">Function:CpswProxyServer_ioctlHandlerCb,HostId:4,Handle:a2ba8c00,CoreKey:38acb976, Cmd:1010401,InArgsLen:0, OutArgsLen:4</div><div class="line">Function:CpswProxyServer_ioctlHandlerCb,HostId:4,Handle:a2ba8c00,CoreKey:38acb976, Cmd:1010201,InArgsLen:24, OutArgsLen:4</div><div class="line">Function:CpswProxyServer_registerMacHandlerCb,HostId:4,Handle:a2ba8c00,CoreKey:38acb976, MacAddress:70:ff:76:1d:92:c2, FlowIdx:93, FlowIdxOffset:9</div></div><!-- fragment --><h4><a class="anchor" id="demo_ethfw_combined_logs_sysmin_j7200"></a>
CCS Console Logs (MCU2_1 Client Application)</h4>
<div class="fragment"><div class="line">[MAIN_Cortex_R5_0_1] Remote device (core : mcu2_1) .....</div><div class="line">Remote Device Framework Endpoint located. Remote Core Id:3, Remote End Point:26</div><div class="line">Connecting to &#39;mcu_2_1_ethswitch-device-1&#39;</div><div class="line">Connecting to &#39;mcu_2_1_ethmac-device-4&#39;</div><div class="line">Registered a device name = mcu_2_1_ethswitch-device-1, id = 0, type = 3</div><div class="line">ETHFW Version: 0. 2. 0</div><div class="line">ETHFW Build Date (YYYY/MMM/DD):2023/Jul/25</div><div class="line">ETHFW Commit SHA:4a3cb5f3</div><div class="line">ETHFW Commit SHA:4a3cb5f3</div><div class="line">Registered a device name = mcu_2_1_ethmac-device-4, id = 1, type = 3</div><div class="line">ETHFW Version: 0. 2. 0</div><div class="line">ETHFW Build Date (YYYY/MMM/DD):2023/Jul/25</div><div class="line">ETHFW Commit SHA:4a3cb5f3</div><div class="line">ETHFW PermissionFlag:0x3fffffff, UART Connected:true,UART Id:3</div><div class="line">ETHFW PermissionFlag:0x3fffffff, UART Connected:true,UART Id:3</div><div class="line">Starting lwIP, local interface IP is dhcp-enabled</div><div class="line">Function:CpswProxy_cmdHandler,Handle:a2ba8c00,CoreKey:38acb976, RxMtu:1522, TxMtu:2024:2024:2024:2024:2024:2024:2024:2024, TxCsum:enabled, MacOnly:0</div><div class="line">[LWIPIF_LWIP] Enet LLD netif initialized successfully</div><div class="line">[LWIPIF_LWIP_IC] Interface started successfully</div><div class="line">[LWIPIF_LWIP_IC] NETIF INIT SUCCESS</div><div class="line">Added interface &#39;ti1&#39;, IP is 0.0.0.0</div><div class="line">Added interface &#39;br3&#39;, IP is 0.0.0.0</div><div class="line">Starting lwIP, local interface IP is dhcp-enabled</div><div class="line">Function:CpswProxy_cmdHandler,Handle:a2ba8c00,CoreKey:38acb976, RxMtu:1522, TxMtu:2024:2024:2024:2024:2024:2024:2024:2024, TxCsum:enabled, MacOnly:4</div><div class="line">[LWIPIF_LWIP] Enet LLD netif initialized successfully</div><div class="line">Added interface &#39;ti4&#39;, IP is 0.0.0.0</div><div class="line">Added interface &#39;br3&#39;, IP is 10.24.68.230</div><div class="line">Current Synchronized time via HWPUSH_2 in Epoch format: 35316150065</div><div class="line">Current Synchronized time via HWPUSH_2 in Epoch format: 56790908854</div></div><!-- fragment --><p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<h3><a class="anchor" id="demo_ethfw_combined_output_j784s4"></a>
J784S4</h3>
<h4><a class="anchor" id="demo_ethfw_combined_logs_uart_j784s4"></a>
UART Console Logs (MCU2_0 Server Application)</h4>
<div class="fragment"><div class="line">Detected boards: QSGMII</div><div class="line">=======================================================</div><div class="line">            CPSW Ethernet Firmware                     </div><div class="line">=======================================================</div><div class="line">Warning: Using 2 MAC address(es) from static pool</div><div class="line">ETHFW: Shared multicasts (software fanout):</div><div class="line">  01:00:5e:00:00:01</div><div class="line">  01:00:5e:00:00:fb</div><div class="line">  01:00:5e:00:00:fc</div><div class="line">  33:33:00:00:00:01</div><div class="line">  33:33:ff:1d:92:c2</div><div class="line">  01:80:c2:00:00:00</div><div class="line">  01:80:c2:00:00:03</div><div class="line">ETHFW: Reserved multicasts:</div><div class="line">  01:80:c2:00:00:0e</div><div class="line">  01:1b:19:00:00:00</div><div class="line">EnetMcm: CPSW_9G on MAIN NAVSS</div><div class="line">PHY 16 is alive</div><div class="line">PHY 17 is alive</div><div class="line">PHY 18 is alive</div><div class="line">PHY 19 is alive</div><div class="line">EnetPhy_bindDriver: PHY 16: OUI:0001c1 Model:27 Ver:00 &lt;-&gt; &#39;vsc8514&#39; : OK</div><div class="line">EnetPhy_bindDriver: PHY 17: OUI:0001c1 Model:27 Ver:00 &lt;-&gt; &#39;vsc8514&#39; : OK</div><div class="line">EnetPhy_bindDriver: PHY 18: OUI:0001c1 Model:27 Ver:00 &lt;-&gt; &#39;vsc8514&#39; : OK</div><div class="line">EnetPhy_bindDriver: PHY 19: OUI:0001c1 Model:27 Ver:00 &lt;-&gt; &#39;vsc8514&#39; : OK</div><div class="line"></div><div class="line">ETHFW Version   : 0.02.00</div><div class="line">ETHFW Build Date: Jul 25, 2023</div><div class="line">ETHFW Build Time: 20:33:04</div><div class="line">ETHFW Commit SHA: 4a3cb5f3</div><div class="line"></div><div class="line">unibase-1.1.4-jacinto</div><div class="line">Starting lwIP, local interface IP is dhcp-enabled</div><div class="line">Host MAC address: 70:ff:76:1d:85:91</div><div class="line">[LWIPIF_LWIP] Enet LLD netif initialized successfully</div><div class="line">[LWIPIF_LWIP_IC] Interface started successfully</div><div class="line">[LWIPIF_LWIP_IC] NETIF INIT SUCCESS</div><div class="line">[LWIPIF_LWIP_IC] Interface started successfully</div><div class="line">[LWIPIF_LWIP_IC] NETIF INIT SUCCESS</div><div class="line">Added interface &#39;br4&#39;, IP is 0.0.0.0</div><div class="line">ETHFW: Enable gPTP on MAC port 3 (tilld3)</div><div class="line">ETHFW: TimeSync PTP enabled</div><div class="line">CpswProxyServer: Virtual port configuration:</div><div class="line">  mpu_1_0 &lt;-&gt; Switch port 0: mpu_1_0_ethswitch-device-0</div><div class="line">  mcu_2_1 &lt;-&gt; Switch port 1: mcu_2_1_ethswitch-device-1</div><div class="line">  mpu_1_0 &lt;-&gt; MAC port 1: mpu_1_0_ethmac-device-1</div><div class="line">  mcu_2_1 &lt;-&gt; MAC port 4: mcu_2_1_ethmac-device-4</div><div class="line">INF:cbase:cb_rawsock_open:dmaTxChId=-1 dmaRxChId=-1 nTxPkts=0 nRxPkts=0 pktSize=0</div><div class="line">INF:gptp:gptpnet_init:Open lldtsync OK!</div><div class="line">CpswProxyServer: initialization completed (core: mcu2_0)</div><div class="line">INF:gptp:000002-626288:domainIndex=0, GM changed old=00:00:00:00:00:00:00:00, new=70:FF:76:FF:FE:1D:85:91</div><div class="line">INF:gptp:set_phase_offsetGM:domainNumber=0, New adjustment(New GM?)</div><div class="line">CpswMacPort_checkSgmiiStatus: MAC 5: SGMII link parter config port: link up: 1-Gbps Full-Duplex</div><div class="line">Cpsw_handleLinkUp: Port 5: Link up: 1-Gbps Full-Duplex</div><div class="line">Function:CpswProxyServer_attachExtHandlerCb,HostId:4,CpswType:6</div><div class="line">Function:CpswProxyServer_ioctlHandlerCb,HostId:4,Handle:a2bc3124,CoreKey:38acb976, Cmd:1010401,InArgsLen:0, OutArgsLen:4</div><div class="line">Function:CpswProxyServer_ioctlHandlerCb,HostId:4,Handle:a2bc3124,CoreKey:38acb976, Cmd:1010201,InArgsLen:24, OutArgsLen:4</div><div class="line">Function:CpswProxyServer_registerMacHandlerCb,HostId:4,Handle:a2bc3124,CoreKey:38acb976, MacAddress:70:ff:76:1d:92:c1, FlowIdx:122, FlowIdxOffset:8</div><div class="line">Cpsw_ioctlInternal: CPSW: Registered MAC address. ALE entry:12, Policer Entry:2</div><div class="line">Added interface &#39;br4&#39;, IP is 10.24.68.185</div><div class="line">Function:CpswProxyServer_registerRemoteTimerHandlerCb,HostId:4,Handle:a2bc3124,CoreKey:38acb976, Name:mcu_2_1_ethswitch-device-1, Timer:1, PushNum:2</div><div class="line">Function:CpswProxyServer_attachExtHandlerCb,HostId:4,CpswType:6</div><div class="line">Function:CpswProxyServer_ioctlHandlerCb,HostId:4,Handle:a2bc3124,CoreKey:38acb976, Cmd:1010401,InArgsLen:0, OutArgsLen:4</div><div class="line">Function:CpswProxyServer_ioctlHandlerCb,HostId:4,Handle:a2bc3124,CoreKey:38acb976, Cmd:1010201,InArgsLen:24, OutArgsLen:4</div><div class="line">Function:CpswProxyServer_registerMacHandlerCb,HostId:4,Handle:a2bc3124,CoreKey:38acb976, MacAddress:70:ff:76:1d:92:c2, FlowIdx:123, FlowIdxOffset:9</div></div><!-- fragment --><h4><a class="anchor" id="demo_ethfw_combined_logs_sysmin_j784s4"></a>
CCS Console Logs (MCU2_1 Client Application)</h4>
<div class="fragment"><div class="line">[MAIN_Cortex_R5_0_1] Remote device (core : mcu2_1) .....</div><div class="line">Remote Device Framework Endpoint located. Remote Core Id:3, Remote End Point:26</div><div class="line">Connecting to &#39;mcu_2_1_ethswitch-device-1&#39;</div><div class="line">Connecting to &#39;mcu_2_1_ethmac-device-4&#39;</div><div class="line">Registered a device name = mcu_2_1_ethswitch-device-1, id = 0, type = 3</div><div class="line">ETHFW Version: 0. 2. 0</div><div class="line">ETHFW Build Date (YYYY/MMM/DD):2023/Jul/25</div><div class="line">ETHFW Build Date (YYYY/MMM/DD):2023/Jul/25</div><div class="line">Registered a device name = mcu_2_1_ethmac-device-4, id = 1, type = 3</div><div class="line">ETHFW Version: 0. 2. 0</div><div class="line">ETHFW Build Date (YYYY/MMM/DD):2023/Jul/25</div><div class="line">ETHFW Commit SHA:4a3cb5f3</div><div class="line">ETHFW PermissionFlag:0x3fffffff, UART Connected:true,UART Id:2</div><div class="line">ETHFW Commit SHA:4a3cb5f3</div><div class="line">ETHFW PermissionFlag:0x3fffffff, UART Connected:true,UART Id:2</div><div class="line">Starting lwIP, local interface IP is dhcp-enabled</div><div class="line">Function:CpswProxy_cmdHandler,Handle:a2bc3124,CoreKey:38acb976, RxMtu:1522, TxMtu:2024:2024:2024:2024:2024:2024:2024:2024, TxCsum:enabled, MacOnly:0</div><div class="line">[LWIPIF_LWIP] Enet LLD netif initialized successfully</div><div class="line">[LWIPIF_LWIP_IC] Interface started successfully</div><div class="line">[LWIPIF_LWIP_IC] NETIF INIT SUCCESS</div><div class="line">Added interface &#39;ti1&#39;, IP is 0.0.0.0</div><div class="line">Added interface &#39;br3&#39;, IP is 0.0.0.0</div><div class="line">Starting lwIP, local interface IP is dhcp-enabled</div><div class="line">Function:CpswProxy_cmdHandler,Handle:a2bc3124,CoreKey:38acb976, RxMtu:1522, TxMtu:2024:2024:2024:2024:2024:2024:2024:2024, TxCsum:enabled, MacOnly:4</div><div class="line">[LWIPIF_LWIP] Enet LLD netif initialized successfully</div><div class="line">Added interface &#39;ti4&#39;, IP is 0.0.0.0</div><div class="line">Added interface &#39;br3&#39;, IP is 10.24.68.230</div><div class="line">Current Synchronized time via HWPUSH_2 in Epoch format: 31102459672</div><div class="line">Current Synchronized time via HWPUSH_2 in Epoch format: 48282209631</div></div><!-- fragment --><p><a class="el" href="demo_ethfw_combined_top.html">Back To Top</a></p>
<hr/>
 <h1><a class="anchor" id="demo_ethfw_combined_rev_history"></a>
Document Revision History</h1>
<hr/>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Revision  </th><th class="markdownTableHeadNone">Date  </th><th class="markdownTableHeadNone">Author  </th><th class="markdownTableHeadNone">Description ------&mdash;   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0.1  </td><td class="markdownTableBodyNone">01 Apr 2019  </td><td class="markdownTableBodyNone">Prasad J, Misael Lopez  </td><td class="markdownTableBodyNone">Created for v.0.08.00   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">0.2  </td><td class="markdownTableBodyNone">12 Jun 2019  </td><td class="markdownTableBodyNone">Prasad J  </td><td class="markdownTableBodyNone">Updates for EVM demo (.85 release)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0.3  </td><td class="markdownTableBodyNone">17 Jul 2019  </td><td class="markdownTableBodyNone">Misael Lopez  </td><td class="markdownTableBodyNone">Updates for v.0.09.00   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">0.4  </td><td class="markdownTableBodyNone">14 Oct 2019  </td><td class="markdownTableBodyNone">Santhana Bharathi N  </td><td class="markdownTableBodyNone">Updates for v.1.00.00   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0.5  </td><td class="markdownTableBodyNone">03 Jun 2020  </td><td class="markdownTableBodyNone">Santhana Bharathi N  </td><td class="markdownTableBodyNone">Updates for v.7.00.00 (Updated logs and added instructions for TimeSync)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">1.0  </td><td class="markdownTableBodyNone">31 Aug 2020  </td><td class="markdownTableBodyNone">Misael Lopez  </td><td class="markdownTableBodyNone">Added J7200 support for SDK 7.01 EA   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1.1  </td><td class="markdownTableBodyNone">10 Nov 2020  </td><td class="markdownTableBodyNone">Misael Lopez  </td><td class="markdownTableBodyNone">Updates for v.7.01.00   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">1.2  </td><td class="markdownTableBodyNone">08 Jul 2021  </td><td class="markdownTableBodyNone">Misael Lopez  </td><td class="markdownTableBodyNone">Updates for v.8.00.00   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1.3  </td><td class="markdownTableBodyNone">03 Dec 2021  </td><td class="markdownTableBodyNone">Nitin Sakhuja  </td><td class="markdownTableBodyNone">Updates for v.8.01.00   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">1.4  </td><td class="markdownTableBodyNone">27 Feb 2022  </td><td class="markdownTableBodyNone">Misael Lopez  </td><td class="markdownTableBodyNone">Updates for v.8.02.00 (Updated logs)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1.5  </td><td class="markdownTableBodyNone">01 Jul 2022  </td><td class="markdownTableBodyNone">Misael Lopez  </td><td class="markdownTableBodyNone">Updates for v.8.02.01 (J784S4 support)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">1.6  </td><td class="markdownTableBodyNone">15 Aug 2022  </td><td class="markdownTableBodyNone">Misael Lopez  </td><td class="markdownTableBodyNone">Updates for v.8.04.00   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1.7  </td><td class="markdownTableBodyNone">04 Dec 2022  </td><td class="markdownTableBodyNone">Misael Lopez  </td><td class="markdownTableBodyNone">Updates for v.8.05.00   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="demo_top.html">EthFw Demo Applications</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
