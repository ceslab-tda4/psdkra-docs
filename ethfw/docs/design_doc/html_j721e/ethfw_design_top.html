<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>ETHFW Design Document: Ethernet Firmware Design Document</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ETHFW Design Document
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ethfw_design_top.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Ethernet Firmware Design Document </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#ethfw_design_intro">Introduction</a></li>
<li class="level1"><a href="#ethfw_design_func_overview">Functional Overview</a></li>
<li class="level1"><a href="#ethfw_design_rev_hist">Document Revision History</a></li>
</ul>
</div>
<div class="textblock"><hr/>
 <h1><a class="anchor" id="ethfw_design_intro"></a>
Introduction</h1>
<p>The Ethernet Firmware (EthFw) is the FreeRTOS based application for configuration of Ethernet switch peripheral (CPSW5G or CPSW9G) present in the Jacinto 7 devices.</p>
<p>The Ethernet Firwmare contains remote configuration server, resource management library, switch resident protocols, proxy layers to handle local and remote API calls. The Ethernet Firmware runs on the Cortex R5F core in the Main Domain of the Jacinto 7 family of devices.</p>
<p>The switch software uses the TI Platform Development Kit (PDK) driver for the Common Platform Switch (CPSW) peripheral as well as drivers for other auxiliary peripherals like UDMA, UART, etc.</p>
<div class="image">
<img src="switch_software_stack.png" alt="switch_software_stack.png"/>
<div class="caption">
Ethernet Switch Software Architecture</div></div>
<p> <a class="el" href="ethfw_design_top.html">Back To Top</a></p>
<hr/>
 <h1><a class="anchor" id="ethfw_design_func_overview"></a>
Functional Overview</h1>
<ul>
<li><em>Ethernet Firmware</em> is integrated into the RTOS SDK, Linux SDK and QNX SDK software products for <a href="https://www.ti.com/tool/PROCESSOR-SDK-J721E">J721E</a> and <a href="https://www.ti.com/tool/PROCESSOR-SDK-J7200">J7200</a> devices.</li>
<li><em>Ethernet Firmware</em> is an application based on the FreeRTOS operating system in charge of configuring the Ethernet switch peripheral and setting up data paths to processing cores internal of the Jacinto 7 devices.</li>
<li><em>Ethernet Firmware</em> enables automotive use-cases like I/O hub, central gateway, network firewall, security, etc.</li>
<li><em>Ethernet Firmware</em> enables multi-core architectures where network data can be steered towards processing cores by means of classification of network traffic based on packet characteristics like L2/L3 header.</li>
<li><em>Ethernet Firmware</em> offers switch resident protocols via lwIP stack.</li>
<li><em>Ethernet Firmware</em> is configurable programmatically via software API from remote client cores or runtime via network with a GUI host application.</li>
<li><em>Ethernet Firmware</em> offers a debug infrastructure to dump DMA statistics, CPSW switch registers and PHY registers.</li>
</ul>
<p><a class="el" href="ethfw_design_top.html">Back To Top</a></p>
<hr/>
 <h1>Assumptions and Constraints</h1>
<ul>
<li>Code is written using ANSI C language.</li>
<li>MISRA-C guidelines are followed, with certain waivers approved by TI Embedded Processors software group.</li>
<li>Ethernet Firmware application is loaded by another software entity. For instance, remoteproc in Linux, SPL or SBL.</li>
<li>TCP/IP stack integration is done using the lwIP TCP/IP stack.</li>
</ul>
<p><a class="el" href="ethfw_design_top.html">Back To Top</a></p>
<hr/>
 <h1>Features Supported</h1>
<ul>
<li>Basic L2 switching</li>
<li>VLAN</li>
<li>RMII, RGMII, SGMII and QSGMII interface types</li>
<li>100Mbps and 1Gbps</li>
<li>Clause-22 PHY</li>
<li>Clause-45 register read/write APIs</li>
<li>Host port (CPPI) packet Tx/Rx</li>
<li>IPC-based switch configuration from remote client cores</li>
<li>Linux integration on Cortex-A72 remote core (Linux SDK)</li>
<li>FreeRTOS integration on Cortex-R5F remote core (RTOS SDK)</li>
<li>AUTOSAR integration on MCU Cortex-R5F remote core (RTOS SDK)</li>
<li>TCP/IP stack</li>
<li>Multicast switching</li>
<li>InterVLAN routing</li>
<li>Network security</li>
<li>Classifier and policer</li>
<li>QoS and packet priority regeneration</li>
<li>Traffic shaping</li>
<li>Time synchronization (CPTS APIs)</li>
</ul>
<p><a class="el" href="ethfw_design_top.html">Back To Top</a></p>
<hr/>
 <h1>Features Not Supported</h1>
<p>The following features are not supported in the current release:</p>
<ul>
<li>Time-aware scheduling</li>
<li>QNX integration</li>
<li>Port mirroring</li>
<li>Port trunking</li>
<li>Interspersing express traffic</li>
<li>Time sensitive networking</li>
<li>Switch compliance</li>
</ul>
<p><a class="el" href="ethfw_design_top.html">Back To Top</a></p>
<hr/>
 <h1><a class="anchor" id="ethfw_design_rev_hist"></a>
Document Revision History</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Revision  </th><th class="markdownTableHeadNone">Date  </th><th class="markdownTableHeadNone">Author  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Status   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0.1  </td><td class="markdownTableBodyNone">22 Oct 2019  </td><td class="markdownTableBodyNone">Misael Lopez  </td><td class="markdownTableBodyNone">First version  </td><td class="markdownTableBodyNone">Draft   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">1.0  </td><td class="markdownTableBodyNone">28 Jan 2020  </td><td class="markdownTableBodyNone">Misael Lopez  </td><td class="markdownTableBodyNone">Updates for SDK 06.02.00  </td><td class="markdownTableBodyNone">Approved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1.1  </td><td class="markdownTableBodyNone">25 Feb 2022  </td><td class="markdownTableBodyNone">Misael Lopez  </td><td class="markdownTableBodyNone">Updates for SDK 08.02.00  </td><td class="markdownTableBodyNone">Approved   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
